{"version":3,"sources":["webpack:///src/views/butler/components/Questionnaire/add.vue","webpack:///src/views/butler/components/Questionnaire/Report.vue","webpack:///src/views/butler/page/src/views/butler/page/Questionnaire.vue"],"names":[],"mappings":"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","file":"chunk-d5aa8c22.6b975bec.css","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.main-content {\n    height: calc(100vh - 100px);\n    background: #ffffff;\n    display: flex;\n    flex-direction: column;\n    margin: 20px;\n}\n.m-box {\n    display: flex;\n    align-items: center;\n    .btn {\n        display: inline-block;\n        cursor: pointer;\n        background: #ffffff;\n        margin-right: 10px;\n        width: 68px;\n        height: 32px;\n        line-height: 32px;\n        text-align: center;\n        border-radius: 4px;\n        border: 1px solid #b7b7b7;\n        &.active {\n            background: #fb4702;\n            color: #fff;\n            border: 1px solid #fb4702;\n        }\n    }\n    .box {\n        background: #cccccc;\n    }\n}\n.content {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    overflow: hidden;\n    .content-btn {\n        height: 54px;\n    }\n}\n\n.box {\n    display: flex;\n    justify-content: space-between;\n    height: calc(100% - 54px);\n    .lf {\n        height: auto;\n        width: 220px;\n        margin-right: 20px;\n        border-radius: 4px 0px 0px 4px;\n        border: 1px solid #e7e7e7;\n        padding: 20px;\n        box-sizing: border-box;\n        .title {\n            font-size: 14px;\n            font-family: PingFangSC-Medium, PingFang SC;\n            font-weight: bold;\n            color: #333333;\n        }\n        .chek-btn {\n            cursor: pointer;\n            padding: 13px 20px;\n            margin: 20px 0px;\n            background: #ffffff;\n            border-radius: 2px;\n            border: 1px solid #cccccc;\n            &:hover {\n                background: #cccccc;\n            }\n        }\n    }\n    .ct {\n        flex: 1;\n        height: 100%;\n        overflow-x: hidden;\n        overflow-y: overlay;\n        .ct-head {\n            border-radius: 4px;\n            border: 1px solid #e7e7e7;\n            padding: 20px;\n        }\n        .ct-tips {\n            margin-bottom: 20px;\n            text-align: center;\n            height: 220px;\n            line-height: 220px;\n            border-radius: 4px;\n            border: 1px solid #e7e7e7;\n        }\n        .subject-card {\n            margin: 20px 0;\n            padding: 20px;\n            border-radius: 4px;\n            border: 1px solid #e7e7e7;\n            .subject-head {\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n                .title {\n                    font-size: 14px;\n                    font-family: PingFang-SC-Bold, PingFang-SC;\n                    font-weight: bold;\n                    color: #333333;\n                }\n                .tip {\n                    width: 66px;\n                    height: 27px;\n                    line-height: 27px;\n                    text-align: center;\n                    background: #ffe7de;\n                    color: #fb4702;\n                    border-radius: 2px;\n                }\n            }\n\n            .options-box {\n                margin: 20px 0;\n                .options {\n                    font-size: 14px;\n                    font-family: PingFangSC-Regular, PingFang SC;\n                    font-weight: 400;\n                    color: #666666;\n                    margin: 12px 0;\n                }\n            }\n\n            .subject-btn {\n                display: flex;\n                align-items: center;\n\n                div {\n                    width: 68px;\n                    height: 32px;\n                    line-height: 32px;\n                    cursor: pointer;\n                    text-align: center;\n                    border-radius: 4px;\n                    border: 1px solid #fb4702;\n                    margin-right: 20px;\n                    &.edit {\n                        color: #fb4702;\n                    }\n                    &.del {\n                        border: 1px solid #b7b7b7;\n                    }\n                }\n            }\n        }\n        .card-box {\n            background: #f5f5f5;\n            padding: 20px;\n            border-radius: 4px;\n            .card-head {\n                display: flex;\n                align-items: center;\n                .card-title {\n                    width: 38px;\n                }\n                .card-input {\n                    flex: 1;\n                    margin-right: 10px;\n                }\n            }\n            .card-add {\n                background: #ffffff;\n                border-radius: 2px;\n                cursor: pointer;\n                height: 38px;\n                line-height: 38px;\n                margin: 10px 38px;\n                font-size: 14px;\n                border: 1px solid #d9d9d9;\n                color: #fb4702;\n                span {\n                    padding-left: 10px;\n                }\n            }\n            .card-del {\n                width: 38px;\n                text-align: center;\n                font-size: 16px;\n            }\n            .card-li {\n                display: flex;\n                align-items: center;\n                padding-left: 38px;\n                margin: 10px 0;\n                border-radius: 2px;\n\n                .card-input {\n                    flex: 1;\n                }\n            }\n            .card-check {\n                margin: 20px 38px 0;\n                display: flex;\n                align-items: center;\n                div {\n                    width: 68px;\n                    height: 32px;\n                    line-height: 32px;\n                    text-align: center;\n                    margin-right: 20px;\n                    cursor: pointer;\n                    border-radius: 4px;\n                    border: 1px solid #b7b7b7;\n                }\n                .card-cancel {\n                }\n                .card-confirm {\n                    background: #fb4702;\n                    border: 1px solid #fb4702;\n                    color: #ffffff;\n                }\n            }\n        }\n    }\n    .rg {\n        height: auto;\n        width: 360px;\n        padding: 20px;\n        margin-left: 20px;\n        border-radius: 4px 0px 0px 4px;\n        border: 1px solid #e7e7e7;\n        box-sizing: border-box;\n        .title {\n            font-size: 14px;\n            font-family: PingFang-SC-Bold, PingFang-SC;\n            font-weight: bold;\n            color: #333333;\n        }\n        .upload-box {\n            height: 180px;\n            width: 320px;\n            margin: 10px 0;\n            background: #f5f5f5;\n            border-radius: 2px;\n            border: 1px solid #cccccc;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            .upload-icon {\n                font-size: 44px;\n            }\n            .upload-txt {\n                font-size: 14px;\n                font-family: PingFangSC-Regular, PingFang SC;\n                font-weight: 400;\n                color: rgba(0, 0, 0, 0.65);\n            }\n            .upload-tips {\n                font-size: 12px;\n                font-family: PingFangSC-Regular, PingFang SC;\n                font-weight: 400;\n                color: #999999;\n            }\n        }\n        .date-box {\n            font-size: 14px;\n            font-family: PingFangSC-Regular, PingFang SC;\n            font-weight: 400;\n            color: #666666;\n            .date-item {\n                margin: 10px 0;\n                span {\n                    padding-right: 10px;\n                }\n            }\n        }\n    }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.box {\n    padding: 20px;\n\n    .content {\n        background: #ffffff;\n        box-sizing: content-box;\n        height: 100%;\n        padding: 20px;\n        font-family: PingFangSC-Regular, PingFang SC;\n        font-weight: 400;\n        .title {\n            font-size: 18px;\n            font-weight: 500;\n            color: #333333;\n        }\n        .date {\n            font-size: 12px;\n            margin: 8px 0;\n            color: #999999;\n        }\n        .tips {\n            font-size: 14px;\n\n            color: #666666;\n        }\n    }\n    .list {\n        font-family: PingFangSC-Regular, PingFang SC;\n        font-weight: 400;\n        color: #666666;\n        font-size: 14px;\n        .title {\n            font-weight: bold;\n            color: #333333;\n            font-size: 14px;\n            margin: 32px 0;\n        }\n        .result {\n            width: 45%;\n            .li {\n                display: flex;\n                align-items: center;\n                margin: 8px 0;\n                .lf {\n                    padding-right: 12px;\n                    width: 100px;\n                    text-align: right;\n                }\n                .progress {\n                    flex: 1;\n                    .el-progress {\n                        display: flex;\n                    }\n                }\n            }\n        }\n    }\n}\n","<style scoped>\n.tips {\n    margin: 20px;\n    height: 38px;\n    line-height: 38px;\n    background: #fafafa;\n    border-radius: 4px;\n    opacity: 0.8;\n    border: 1px solid #e8e8e8;\n}\n</style>\n<template>\n  <div>\n    <div v-show=\"!addShow\"\n         class=\"main-content\">\n      <div class=\"main-titel\">\n        <span>问卷调查</span>\n      </div>\n      <div class=\"content\">\n        <div class=\"content-btn\">\n          <el-button class=\"init-button\"\n                     icon=\"el-icon-plus\"\n                     @click=\"addShow=true\">新增问卷调查</el-button>\n        </div>\n        <div class=\"\">\n          <VueTable ref=\"table\"\n                    :config='config'\n                    @tableCheck=\"tableCheck\">\n            <template slot=\"footer\">\n              <div class=\"table-footer\">\n                <!-- <button>预览</button> -->\n                <button @click='eidt(table_row)'>编辑</button>\n                <button @click='reReportAnalysis(table_row)'>分析报表</button>\n                <button @click=\"del(table_row)\">删除</button>\n                <!-- <button>打印</button> -->\n              </div>\n            </template>\n          </VueTable>\n        </div>\n      </div>\n    </div>\n    <Report drawerTitle=\"分析报表\"\n            ref=\"Report\"\n            @handleClose=\"ReportHandleClose\"\n            :drawerVrisible='Report_vrisible'></Report>\n    <div v-show=\"addShow\">\n      <addEidt @cancel='addEidtCancel'\n               @submitSuccess='addEidtSubmitSuccess'\n               ref=\"addEidt\"></addEidt>\n\n    </div>\n  </div>\n</template>\n\n<script>\n// import add\nimport addEidt from '@/views/butler/components/Questionnaire/add.vue'\nimport Report from '@/views/butler/components/Questionnaire/Report'\n\nimport { questionnaireReportAnalysis } from '@/api/butler.js'\nexport default {\n    data() {\n        return {\n            addShow: false,\n            Report_vrisible: false,\n            ReportDrawerTitle: '',\n            // 选中表格数据\n            table_row: [],\n            config: {\n                thead: [\n                    { label: '序号', type: 'index', width: '80' },\n                    { label: '标题', prop: 'title', width: '280' },\n                    {\n                        label: '问卷对象',\n                        prop: 'answerType',\n                        width: '180',\n                        type: 'function',\n                        callback: (row, prop) => {\n                            switch (row.answerType) {\n                                case 1:\n                                    return '无限制'\n                                    break\n                                case 2:\n                                    return '业主'\n                                    break\n                                case 3:\n                                    return '租户'\n                                    break\n\n                                default:\n                                    break\n                            }\n                        }\n                    },\n                    {\n                        label: '状态',\n                        prop: 'status',\n                        width: '180',\n                        type: 'function',\n                        callback: (row, prop) => {\n                            switch (row.status) {\n                                case 1:\n                                    return '未开始'\n                                    break\n                                case 2:\n                                    return '正在进行'\n                                    break\n                                case 3:\n                                    return '已结束'\n                                    break\n\n                                default:\n                                    break\n                            }\n                        }\n                    },\n                    { label: '开始时间', prop: 'beginDate', width: '180' },\n                    { label: '结束时间', prop: 'endDate', width: '180' },\n                    { label: '答题数量', prop: 'answerNum', width: 'auto' }\n                ],\n                url: 'questionnaireList',\n                table_data: [],\n                search_item: [\n                    {\n                        type: 'Input',\n                        label: '问卷标题',\n                        placeholder: '请输入',\n                        prop: 'title'\n                    },\n                    {\n                        type: 'select',\n                        label: '状态',\n                        options: [\n                            { value: 1, label: '未开始' },\n                            { value: 2, label: '正在进行' },\n                            { value: 3, label: '已结束' }\n                        ],\n                        placeholder: '请输入',\n                        prop: 'status'\n                    },\n                    {\n                        type: 'select',\n                        label: '问卷对象',\n                        options: [\n                            { value: 1, label: '无限制' },\n                            { value: 2, label: '业主' },\n                            { value: 3, label: '租户' }\n                        ],\n\n                        placeholder: '请选择',\n                        prop: 'answerType'\n                    }\n                ],\n                data: {\n                    pageNum: 1,\n                    size: 10\n                }\n            }\n        }\n    },\n    components: {\n        addEidt,\n        Report\n    },\n    methods: {\n        tableCheck(arr) {\n            this.table_row = arr\n        },\n        eidt(data) {\n            if (data.length > 1) {\n                this.$message.error('只能查看一条数据的详情')\n                return\n            }\n            if (!data.length) {\n                this.$message.error('请选择')\n                return\n            }\n\n            this.$refs.addEidt.edit(data[0].id)\n            this.addShow = true\n        },\n        reReportAnalysis(data) {\n            if (data.length > 1) {\n                this.$message.error('只能查看一条数据')\n                return\n            }\n            if (!data.length) {\n                this.$message.error('请选择')\n                return\n            }\n\n            this.$refs.Report.getData(data[0].id)\n            this.Report_vrisible = true\n        },\n        ReportHandleClose() {\n            this.Report_vrisible = false\n        },\n        addEidtCancel() {\n            this.addShow = false\n        },\n        addEidtSubmitSuccess() {\n            this.getData()\n        },\n        getData() {\n            // 调用子组件的方法\n            this.$refs.table.loadData()\n        },\n        // 删除\n        del(data) {\n            let arr = []\n            for (let i = 0; i < this.table_row.length; i++) {\n                arr.push(this.table_row[i].id)\n            }\n            if (!arr.length) {\n                this.$message.error('请选中需要删除的表格数据')\n                return\n            }\n            this.$confirm('是否删除？删除不可找回', '删除', {\n                confirmButtonText: '确定',\n                cancelButtonText: '取消'\n            })\n                .then(() => {\n                    this.$refs.table.tableDelete(arr)\n                })\n                .catch((action) => {})\n        }\n    }\n}\n</script>\n"]}