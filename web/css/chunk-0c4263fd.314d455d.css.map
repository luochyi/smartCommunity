{"version":3,"sources":["webpack:///src/views/butler/components/suggestConsultation/src/views/butler/components/suggestConsultation/details.vue","webpack:///src/views/commodity/page/src/views/commodity/page/evaluationManagement.vue"],"names":[],"mappings":"AAqMA,iCACA,oBAAA,CACA,gBAAA,CACA,4BACA,CACA,4BACA,YACA,CACA,gCACA,YAAA,CACA,wBAAA,CACA,SACA,CACA,6CACA,aAAA,CACA,YAAA,CACA,kBAAA,CACA,MACA,CCtNA,uBACA,WAAA,CACA,WAAA,CACA,gBAAA,CACA,kBAAA,CACA,iBAAA,CACA,UAAA,CACA,wBACA,CAqUA,6BACA,WAAA,CACA,UAAA,CACA,YAAA,CACA,cAAA,CACA,kBAAA,CACA,kBAAA,CACA,6BACA,CACA,8BACA,UACA,CACA,2BACA,YAAA,CACA,YACA,CACA,wBACA,cAAA,CACA,yCAAA,CACA,eAAA,CACA,UAAA,CACA,gBACA,CACA,mBACA,cAAA,CACA,0CAAA,CACA,eAAA,CACA,UAAA,CACA,gBACA,CACA,sBACA,UAAA,CACA,YAAA,CACA,6BACA,CACA,qBACA,cAAA,CAEA,0CAAA,CACA,eAAA,CACA,aAAA,CACA,gBACA,CACA,2BACA,SAAA,CACA,8BACA","file":"chunk-0c4263fd.314d455d.css","sourcesContent":["<template>\n  <div>\n    <el-drawer title=\"咨询建议\"\n               :visible.sync=\"isVisibleDrawe\"\n               size=\"58%\"\n               :before-close=\"close\">\n      <div class=\"drawer-box\"\n           v-if=\"isVisibleDrawe\">\n\n        <div class=\"dra-body\">\n          <div class=\"dra-content\">\n            <div class=\"content-titel\">\n              <span>基本信息</span>\n            </div>\n            <div class=\"\">\n              <el-form label-position=\"right\"\n                       label-width=\"100px\"\n                       size=\"small\">\n                <el-form-item label=\"类型\"\n                              style=\"width:100%\">\n                  <span v-if=\"detailData.type ===1 \">咨询</span>\n                  <span v-if=\"detailData.type ===2 \">建议</span>\n                </el-form-item>\n                <el-form-item label=\"照片\"\n                              v-if=\"detailData.imgUrl!==null\"\n                              style=\"width:100%\">\n                  <el-image style=\"width: 140px; height: 100px\"\n                            :src=\"`${$ImgUrl}${detailData.imgUrl[0].url}`\"\n                            fit=\"scale-down\"></el-image>\n                </el-form-item>\n                <el-form-item label=\"反馈内容\"\n                              v-if=\"detailData.voUserAdviceDetailList.length!==0\"\n                              style=\"width:100%\">\n                  <template>\n                    <div class=\"table_box\"\n                         v-for=\"(item,index) in detailData.voUserAdviceDetailList\"\n                         :key='index'>\n                      <div>\n                        <p>{{item.createName}}</p>\n                        <p>{{item.createDate}}</p>\n                      </div>\n                      <div class=\"content_item\">\n                        <p>{{item.content}}</p>\n                      </div>\n                    </div>\n                  </template>\n\n                </el-form-item>\n                <el-form-item label=\"星级评分\"\n                              v-if=\"rateNum\"\n                              style=\"width:100%\">\n                  <el-rate v-model=\"rateNum\"\n                           :colors=\"colors\"\n                           disabled></el-rate>\n                </el-form-item>\n              </el-form>\n            </div>\n          </div>\n          <div class=\"dra-content\">\n            <div class=\"content-titel\">\n              <span>回复反馈</span>\n            </div>\n            <div class=\"\">\n              <el-form label-position=\"right\"\n                       label-width=\"100px\"\n                       size=\"small\">\n                <el-form-item label=\"反馈\"\n                              style=\"width:100%\">\n                  <el-input type=\"textarea\"\n                            :autosize=\"{ minRows: 6}\"\n                            placeholder=\"请输入内容\"\n                            v-model=\"content\">\n                  </el-input>\n\n                </el-form-item>\n              </el-form>\n            </div>\n          </div>\n        </div>\n        <div class=\"dra-footer\">\n          <div class=\"dra-footer-content\">\n            <button class=\"dra-submit el-icon-circle-check\"\n                    @click=\"submit\"><span>提交</span></button>\n            <button class=\"dra-cancel\"\n                    @click=\"close\"><span>关闭</span></button>\n          </div>\n        </div>\n      </div>\n    </el-drawer>\n  </div>\n</template>\n<script>\nimport { adviceFindById, adviceInsertDetail } from '@/api/butler'\nexport default {\n  props: {\n    drawerVrisible: {\n      type: Boolean,\n      default: false,\n    },\n    suggestId: {\n      type: Number,\n      default: () => 0,\n    }\n  },\n  mounted () {\n\n  },\n  data () {\n    return {\n      detailData: {\n        id: 1,\n        type: 1,\n        score: 6,\n        imgUrl: [{ url: '' }],\n        voUserAdviceDetailList: [],\n      },\n      isVisibleDrawe: false,\n\n      content: '',\n      colors: ['#FB4702', '#FB4702', '#FB4702'],\n      rate: 5,\n    }\n  },\n  computed: {\n    rateNum () {\n      let rate = 0\n      if (this.detailData.score) {\n        rate = this.detailData.score / 2\n      }\n      return rate\n    }\n  },\n  methods: {\n    close () {\n      this.content = null\n      this.$emit('handleClose', \"Close\")\n    },\n    submit () {\n      let pId = 0\n      if (this.detailData.voUserAdviceDetailList.length > 0) {\n        pId = this.detailData.voUserAdviceDetailList[0].id\n      }\n      let resData = {\n        adviceId: this.detailData.id,\n        content: this.content,\n        parentId: pId,\n        createUserType: 3,\n      }\n      console.log(resData)\n      adviceInsertDetail(resData).then(result => {\n        console.log(result)\n        if (result.status) {\n          this.$message({\n            message: result.message,\n            type: 'success'\n          })\n          this.close()\n        } else {\n          this.$message({\n            message: result.message,\n            type: 'error'\n          })\n        }\n      })\n    },\n    getDetails (id) {\n      if (id) {\n        let resData = {\n          id: id\n        }\n        adviceFindById(resData).then(res => {\n          console.log(res)\n          this.detailData = res.voFindByIdAdvice\n          this.detailData.voUserAdviceDetailList = res.voFindByIdAdvice.voUserAdviceDetailList ? res.voFindByIdAdvice.voUserAdviceDetailList : []\n        })\n      }\n    }\n  },\n  // 返回详情弹窗\n  watch: {\n    drawerVrisible: {\n      handler (newValue) {\n        this.isVisibleDrawe = newValue\n        console.log(newValue)\n      },\n      immediate: true\n    },\n    suggestId: {\n      handler (newValue) {\n        this.getDetails(newValue)\n      },\n      immediate: true\n    },\n  }\n}\n</script>\n<style scoped>\n.content-titel2 {\n    margin: 0px 0px 20px 30px;\n    padding-top: 30px;\n    border-top: 1px solid #e8e8e8;\n}\n.table_box {\n    display: flex;\n}\n.table_box > div {\n    padding: 14px;\n    border: 1px solid #f5f5f6;\n    width: 25%;\n}\n.table_box > div.content_item {\n    border-left: 0;\n    display: flex;\n    align-items: center;\n    flex: 1;\n}\n</style>\n","<style scoped>\n.tips {\n  margin: 20px;\n  height: 38px;\n  line-height: 38px;\n  background: #fafafa;\n  border-radius: 4px;\n  opacity: 0.8;\n  border: 1px solid #e8e8e8;\n}\n</style>\n<template>\n  <div class=\"main-content\">\n    <div class=\"main-titel\">\n      <span>评价管理</span>\n    </div>\n    <div class=\"content\">\n      <!-- 查询重制 -->\n      <div class=\"\">\n        <!-- 头部输入框 -->\n        <div>\n          <input-form :formItem=\"input_form\"></input-form>\n        </div>\n        <div class=\"content-table\">\n          <div>\n            <div class=\"shop_table\">\n              <div class=\"shop_th\"><span>主订单编号：323534520359</span></div>\n              <div class=\"shop_th\"><span>订单类型：零售订单</span></div>\n              <div class=\"shop_th\">\n                <span>下单时间：2020-08-12 17:14:39</span>\n              </div>\n              <div class=\"shop_th\">\n                <span>支付方式：在线支付-微信支付</span>\n              </div>\n              <div class=\"shop_th\">\n                <span>操作： <span>联系买家</span></span>\n              </div>\n              <div class=\"shop_th box\">\n                商品名称：<span style=\"color:rgba(251, 71, 2, 1)\">俏美味综合蔬菜干果蔬脆水果干混合装果蔬脆片秋葵香菇脆儿童零食</span>\n              </div>\n            </div>\n            <div class=\"shop_row\">\n              <div class=\"shop_col\">\n                <div>\n                  <span class=\"title\">买家评价</span>\n                </div>\n                <div>\n                  <p>很好吃，会继续回购的</p>\n                  <div>\n                    <img src=\"https://img1.360buyimg.com/n6/jfs/t1/135509/31/11898/171118/5f81192bE569c3f51/dc4d5e0ac7b051b7.jpg\"\n                         alt=\"\"\n                         style=\"width:100px;height:100px;\" />\n                  </div>\n                </div>\n              </div>\n              <div class=\"\"\n                   style=\"flex:1;padding:0px 20px\">\n                <div class=\"txt\">\n                  <span class=\"title\">卖家回复</span>\n                  <span class=\"hf\">您已回复</span>\n                </div>\n                <div>\n                  <p>感谢您的支持，祝您生活愉快</p>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div>\n            <div class=\"shop_table\">\n              <div class=\"shop_th\"><span>主订单编号：323534520359</span></div>\n              <div class=\"shop_th\"><span>订单类型：零售订单</span></div>\n              <div class=\"shop_th\">\n                <span>下单时间：2020-08-12 17:14:39</span>\n              </div>\n              <div class=\"shop_th\">\n                <span>支付方式：在线支付-微信支付</span>\n              </div>\n              <div class=\"shop_th\">\n                <span>操作： <span>联系买家</span></span>\n              </div>\n              <div class=\"shop_th box\">\n                商品名称：<span style=\"color:rgba(251, 71, 2, 1)\">俏美味综合蔬菜干果蔬脆水果干混合装果蔬脆片秋葵香菇脆儿童零食</span>\n              </div>\n            </div>\n            <div class=\"shop_row\">\n              <div class=\"shop_col\">\n                <div>\n                  <span class=\"title\">买家评价</span>\n                </div>\n                <div>\n                  <p>默认好评</p>\n                </div>\n              </div>\n              <div class=\"\"\n                   style=\"flex:1;padding:0px 20px\">\n                <div class=\"txt\">\n                  <span class=\"title\">卖家回复</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <table-pagination></table-pagination>\n      </div>\n    </div>\n    <!-- 详情 -->\n    <drawerDetails :drawerVrisible=\"drawer_details\"\n                   @handleClose=\"getClose\"></drawerDetails>\n    <!-- 删除 提示弹窗-->\n    <Dialog :dialogVisible=\"dialog_visible\"\n            :dialog_config=\"dialog_config\"\n            @cancel=\"cancel\"\n            @confirm=\"confirm\">\n    </Dialog>\n  </div>\n</template>\n\n<script>\nimport drawerDetails from '@/views/butler/components/suggestConsultation/details.vue'\nimport Dialog from '@/components/dialog/Dialog.vue'\n\nexport default {\n  data () {\n    return {\n      input_form: [\n        {\n          type: 'Input',\n          label: '商品编号',\n          placeholder: '请输入商品编号',\n          prop: 'p1'\n        },\n        {\n          type: 'select',\n          label: '商品名称',\n          placeholder: '请选择',\n          prop: 'p2',\n          value: '全部',\n          options: [\n            {\n              label: '全部',\n              value: '1'\n            },\n            {\n              label: '上衣',\n              value: '2'\n            },\n            {\n              label: '裙子',\n              value: '3'\n            },\n            {\n              label: '袜子',\n              value: '4'\n            }\n          ]\n        },\n        {\n          type: 'select',\n          label: '订单号',\n          placeholder: '请选择',\n          prop: 'p3',\n          value: '全部',\n          options: [\n            {\n              label: '全部',\n              value: '1'\n            },\n            {\n              label: '是',\n              value: '2'\n            },\n            {\n              label: '否',\n              value: '3'\n            }\n          ]\n        },\n        {\n          type: 'select',\n          label: '用户/ID',\n          placeholder: '请选择',\n          prop: 'p4',\n          value: '全部',\n          options: [\n            {\n              label: '全部',\n              value: '1'\n            },\n            {\n              label: '是',\n              value: '2'\n            },\n            {\n              label: '否',\n              value: '3'\n            }\n          ]\n        },\n        {\n          type: 'Input',\n          label: '评价等级',\n          placeholder: '请输入商品编号',\n          prop: 'p5'\n        },\n        {\n          type: 'select',\n          label: '是否回复',\n          placeholder: '请选择',\n          prop: 'p6',\n          value: '全部',\n          options: [\n            {\n              label: '全部',\n              value: '1'\n            },\n            {\n              label: '是',\n              value: '2'\n            },\n            {\n              label: '否',\n              value: '3'\n            }\n          ]\n        },\n        {\n          type: 'select',\n          label: '是否有图',\n          placeholder: '请选择',\n          prop: 'p7',\n          value: '全部',\n          options: [\n            {\n              label: '全部',\n              value: '1'\n            },\n            {\n              label: '是',\n              value: '2'\n            },\n            {\n              label: '否',\n              value: '3'\n            }\n          ]\n        },\n        {\n          type: 'select',\n          label: '追评',\n          placeholder: '请选择',\n          prop: 'p8',\n          value: '全部',\n          options: [\n            {\n              label: '全部',\n              value: '1'\n            },\n            {\n              label: '是',\n              value: '2'\n            },\n            {\n              label: '否',\n              value: '3'\n            }\n          ]\n        },\n        {\n          type: 'startEndDate',\n          label: '下单时间',\n          prop: 'p9',\n          startPlaceholder: '请选择开始时间',\n          rangeSeparator: ' ～',\n          endPlaceholder: '结束时间'\n        }\n      ],\n      // 控制dialog显示隐藏\n      dialog_visible: false,\n      // 传入dialog的参数\n      dialog_config: {\n        title: '',\n        content: ''\n      },\n      // drawerDetails\n      drawer_details: false\n    }\n  },\n  components: {\n    drawerDetails,\n    Dialog\n  },\n  methods: {\n    handleClick (row) {\n      console.log(row)\n    },\n    // table选中行\n    tableRow (data) {\n      this.table_row = data\n    },\n    // 监听子组件取消事件\n    cancel (data) {\n      this.dialog_visible = false\n    },\n    // 监听子组件确认事件\n    confirm (data) {\n      this.dialog_visible = false\n      this.$message({\n        message: '删除成功',\n        type: 'success'\n      })\n    },\n    // 删除\n    del (data) {\n      console.log(this.table_row.table6 + '0000')\n      if (JSON.stringify(data) != '{}') {\n        this.dialog_config.title = '删除提示'\n        if (this.table_row.table6 != '已反馈') {\n          this.dialog_config.content = '该条信息，还为回复是否确认删除？'\n        } else {\n          this.dialog_config.content = '是否确认删除该信息？'\n        }\n        this.dialog_visible = true\n      } else {\n        this.$message.error('请选中需要删除的表格数据')\n      }\n    },\n    // 关闭抽屉\n    getClose (data) {\n      this.drawer_details = false\n    }\n  }\n}\n</script>\n<style scoped>\n.shop_table {\n  height: 44px;\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  background: #f5f5f6;\n  justify-content: space-between;\n}\n.shop_th.box {\n  width: 100%;\n}\n.shop_row {\n  padding: 20px;\n  display: flex;\n}\n.title {\n  font-size: 14px;\n  font-family: PingFangSC-Medium, PingFang SC;\n  font-weight: 500;\n  color: #333333;\n  line-height: 30px;\n}\np {\n  font-size: 14px;\n  font-family: PingFangSC-Regular, PingFang SC;\n  font-weight: 400;\n  color: #333333;\n  line-height: 30px;\n}\n.txt {\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n}\n.hf {\n  font-size: 16px;\n\n  font-family: PingFangSC-Regular, PingFang SC;\n  font-weight: 400;\n  color: #0091ff;\n  line-height: 22px;\n}\n.shop_col {\n  width: 80%;\n  border-right: 1px solid #f5f5f6;\n}\n</style>\n"]}