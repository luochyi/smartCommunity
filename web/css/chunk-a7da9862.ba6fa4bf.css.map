{"version":3,"sources":["webpack:///src/views/butler/page/src/views/butler/page/facilityInspection.vue"],"names":[],"mappings":"AAgVA,WACA,UAAA,CACA,WAAA,CACA,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CACA,0BAAA,CACA,iBAAA,CACA,qBAAA,CACA,gCAAA,CACA,iBACA","file":"chunk-a7da9862.ba6fa4bf.css","sourcesContent":["\n<template>\n  <div class=\"main-content\">\n    <div class=\"main-titel\">\n      <span>设施检查</span>\n    </div>\n    <div class=\"content\">\n      <div class=\"content-btn\">\n        <el-button class=\"init-button\"\n                   icon=\"el-icon-plus\"\n                   @click=\"add\">新增任务</el-button>\n      </div>\n      <!-- 查询重制 -->\n      <div class=\"\">\n        <searchForm :formItem=\"search_item\"\n                    :btnWidth=\"'10%'\">\n          <template slot=\"date\">\n            <el-date-picker v-model=\"date\"\n                            style='width:280px'\n                            type=\"datetimerange\"\n                            range-separator=\"至\"\n                            start-placeholder=\"开始日期\"\n                            end-placeholder=\"结束日期\">\n            </el-date-picker>\n          </template>\n        </searchForm>\n        <div>\n          <el-tabs v-model=\"activeName\"\n                   @tab-click=\"handleClick\">\n            <el-tab-pane label=\"全部\"\n                         name=\"0\"></el-tab-pane>\n            <el-tab-pane label=\"使用中\"\n                         name=\"1\"></el-tab-pane>\n            <el-tab-pane label=\"空置中\"\n                         name=\"2\"></el-tab-pane>\n            <el-tab-pane label=\"已停用\"\n                         name=\"3\"></el-tab-pane>\n          </el-tabs>\n        </div>\n        <div>\n          <tableData :config=\"config\"\n                     @clickrow=\"tableRow\">\n            <template v-slot:stutas=\"slotData\">\n              <div>\n                <span v-if=\"slotData.data.stutas===1\"\n                      style=\"color:#cccc\">未完成</span>\n                <span v-else-if=\"slotData.data.stutas===2\">已完成</span>\n\n              </div>\n            </template>\n          </tableData>\n          <div class=\"table-footer\">\n            <button>详情</button>\n            <button @click='edit(table_row)'>编辑</button>\n            <button>开启</button>\n            <button>删除</button>\n          </div>\n          <div>\n            <table-pagination :pageSize='10'\n                              :totalNumber='90'></table-pagination>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!--设施检查 -->\n    <Drawer :drawerTitle=\"addEidtTitle\"\n            @drawerClose=\"addEidtClose\"\n            :drawerVrisible='addEidt_vrisible'>\n      <div style=\"padding:30px\">\n        <FromCard>\n          <template slot=\"title\">基本信息</template>\n          <template>\n            <VueForm ref=\"addEidtVueForm\"\n                     :formObj='addEidtForm'>\n            </VueForm>\n          </template>\n        </FromCard>\n      </div>\n      <div slot=\"footer\">\n        <button class=\"btn-orange\"\n                @click=\"addEidtSubmit()\"><span> <i class=\"el-icon-circle-check\"></i>提交</span></button>\n        <button class=\"btn-gray\"\n                @click=\"addEidtClose\"><span>取消</span></button>\n      </div>\n    </Drawer>\n  </div>\n</template>\n\n<script>\nimport facilitiesData from '@/api/data.js'\nexport default {\n  data () {\n    return {\n      date: [],\n      activeName: '0',\n      // 业委会标题 业委会显示隐藏\n      addEidtTitle: '',\n      addEidt_vrisible: false,\n      editId: 0,\n      table_row: [],\n      search_item: [\n        {\n          type: 'Input',\n          label: '设施名称',\n          placeholder: '请输入',\n          prop: 'name',\n        },\n        {\n          type: 'select',\n          label: '设施种类',\n          placeholder: '请选择',\n          prop: 'positionId',\n          value: '',\n          options: [\n            { value: 1, label: '篮球场' },\n            { value: 2, label: '会议室' },\n            { value: 3, label: '办公桌' },\n          ]\n        },\n        {\n          type: 'Input',\n          label: '设施编号',\n          placeholder: '请输入编号',\n          prop: 'code',\n        },\n        {\n          type: 'select',\n          label: '设施情况',\n          placeholder: '请选择',\n          prop: 'educationId',\n          options: [\n            { value: 1, label: '正常' },\n            { value: 2, label: '异常' }\n          ]\n        },\n        {\n          type: 'Input',\n          label: '检查人员',\n          placeholder: '请输入',\n          prop: 'roomName',\n\n        },\n        {\n          type: 'select',\n          label: '任务状态',\n          placeholder: '请选择',\n          prop: 'rwzt',\n          value: '',\n          options: [\n            { value: 1, label: '已完成' },\n            { value: 2, label: '未完成' }\n          ]\n        },\n        {\n          type: 'select',\n          label: '设施状态',\n          placeholder: '请选择',\n          prop: 'sszt',\n          value: '',\n          options: [\n            { value: 1, label: '已完成' },\n            { value: 2, label: '未完成' }\n          ]\n        },\n        {\n          type: 'Slot',\n          label: '任务时间',\n          placeholder: '请输入',\n          prop: 'date',\n          slotName: 'date'\n        },\n        // Slot\n      ],\n      config: {\n        thead: [\n          { label: '序号', type: 'index', width: '80' },\n          { label: '设施编号', prop: 'code', width: 'auto' },\n          { label: '设施类型', prop: 'ssname', width: 'auto' },\n          { label: '设施名称', prop: 'ssmc', width: 'auto' },\n          { label: '检查人', prop: 'name', width: 'auto' },\n          { label: '任务状态', prop: 'stutas', width: 'auto', type: 'slot', slotName: 'stutas' },\n          { label: '设施情况', prop: 'ssqk', width: 'auto' },\n          { label: '设施状态', prop: 'sszt', width: 'auto' },\n          { label: '任务时间', prop: 'date', width: '220' },\n        ],\n        table_data: [\n          {\n            code: '1231231231312',\n            name: '会议室',\n            ssmc: '03',\n            name: '张三',\n            stutas: 1,\n            ssqk: '正常',\n            sszt: '使用中',\n            date: '2020-04-13 19:00-20:30'\n          },\n          {\n            code: '1231231231312',\n            name: '会议室',\n            ssmc: '03',\n            name: '张三',\n            stutas: 2,\n            ssqk: '正常',\n            sszt: '使用中',\n            date: '2020-04-13 19:00-20:30'\n          }\n        ],\n        data: {\n          pageNum: 1,\n          size: 10\n        },\n      },\n      addEidtForm: {\n        ruleForm: {\n          residentId: null,\n          positionId: null,\n          age: null,\n          educationId: null,\n          roomName: null,\n          profession: null,\n          // sex: null,\n          fileUrls: []\n        },\n        form_item: [\n          {\n            type: 'Select', label: '检查人员', placeholder: '请选择人员', width: '50%', prop: 'positionId',\n            options: [\n              { value: 1, label: '业委会主任' },\n              { value: 2, label: '业委会副主任' },\n              { value: 3, label: '业委会委员' }\n            ]\n          },\n          {\n            type: 'Input', label: '电话', placeholder: '17062459663', width: '50%', prop: 'tel',disabled:true\n          },\n          {\n            type: 'Select', label: '设施名', placeholder: '请选择', width: '50%', prop: 'ssmc',\n            options: [\n              { value: 1, label: '001' },\n              { value: 2, label: '002' },\n              { value: 3, label: '003' },\n            ]\n          },\n          { type: 'Input', label: '设施编号', placeholder: '2012330121', width: '50%', prop: 'sbcode', disabled: true },\n          {\n            type: 'Select', label: '设施类型', placeholder: '请选择', width: '100%', prop: 'sslx',\n            options: [\n              { value: 1, label: '篮球场' },\n              { value: 2, label: '乒乓桌' },\n              { value: 3, label: '办公桌' },\n            ]\n          },\n          { type: 'Input', label: '设施状态', placeholder: '使用中', width: '100%', prop: 'sszt', disabled: true },\n          { type: 'Input', label: '设施地址', placeholder: '海角街道4单元134室', width: '100%', prop: 'ssaddress', disabled: true },\n        ],\n        rules: {\n          residentId: [{ required: true, message: '请输入姓名', trigger: 'change' }],\n          positionId: [{ required: true, message: '请选择职位', trigger: 'change' }],\n          sex: [{ required: true, message: '请选择性别', trigger: 'change' }],\n          age: [{ required: true, message: '请输入工单名称', trigger: 'blur' }],\n          educationId: [{ required: true, message: '请选择学历', trigger: 'change' }],\n          roomName: [{ required: true, message: '请输入房屋信息', trigger: 'blur' }],\n          profession: [{ required: true, message: '请选择职业', trigger: 'blur' }],\n          fileUrls: [{ required: true, message: '请上传图片', trigger: 'change' }],\n        }\n      },\n      ownersObj: {}\n    }\n  },\n  methods: {\n    // tabs切换\n    handleClick () {\n\n    },\n    // 添加修改弹窗提交验证通过\n    addEidtRuleSubmit () {\n\n    },\n    // 添加修改弹窗提交\n    addEidtSubmit () {\n      this.addEidtClose()\n    },\n    // 添加成员 弹窗显示\n    add () {\n      this.addEidtTitle = '新增任务'\n      this.addEidt_vrisible = true;\n      console.log(facilitiesData)\n    },\n    // 修改 弹窗显示\n    edit (data) {\n      if (data.length) {\n        if (data.length > 1) {\n          this.$message.error('不能批量编辑');\n          return\n        }\n        this.addEidtTitle = '编辑任务'\n        console.log(this.table_row)\n      } else {\n        this.$message.error('请选择需要编辑的数据');\n      }\n    },\n    //  弹窗关闭显示\n    addEidtClose () {\n      // 初始化数据 重置\n      this.editId = 0\n      for (let key in this.addEidtForm.ruleForm) {\n        this.$set(this.addEidtForm.ruleForm, key, null)\n      }\n      this.$refs.addEidtVueForm.reset()\n      this.addEidt_vrisible = false\n    },\n    tableRow (data) {\n      this.table_row = data\n      console.log(data)\n    },\n    // 删除\n    del (data) {\n      let arr = []\n      for (let i = 0; i < this.table_row.length; i++) {\n        arr.push(this.table_row[i].id)\n      }\n      if (!arr.length) {\n        this.$message.error('请选中需要删除的表格数据')\n        return\n      }\n      this.$confirm('是否删除？删除不可找回', '删除', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n      }).then(() => {\n        this.$refs.table.tableDelete(arr)\n      }).catch(action => { });\n    }\n  }\n}\n</script>\n<style>\n.sys-image {\n    width: 80px;\n    height: 80px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    overflow: hidden;\n    background: rgba(0, 0, 0, 0.04);\n    border-radius: 2px;\n    box-sizing: border-box;\n    border: 1px solid rgba(0, 0, 0, 0.15);\n    margin-right: 12px;\n}\n</style>\n"]}