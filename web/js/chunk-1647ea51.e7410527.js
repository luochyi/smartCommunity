(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1647ea51"],{"1e52":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bg"},[i("div",{staticClass:"main-content comprehensive"},[t._m(0),i("div",{staticClass:"content",staticStyle:{display:"flex"}},[i("div",{staticClass:"orgLeft"},[i("div",{staticClass:"org-search"},[i("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.filterText,callback:function(e){t.filterText=e},expression:"filterText"}})],1),i("el-tree",{ref:"tree",staticClass:"filter-tree",attrs:{data:t.organizationData,"expand-on-click-node":!1,"highlight-current":!0,props:t.defaultProps,"default-expand-all":"","filter-node-method":t.filterNode},on:{"node-click":t.organizationChange}})],1),i("div",{staticClass:"orgRight content"},[i("div",{staticClass:"flex  justify-between",staticStyle:{"padding-bottom":"20px"}},[i("div",{staticClass:"flex align-center justify-between",staticStyle:{flex:"5"}},[i("div",[i("span",[t._v("员工名称：")]),i("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入内容",size:"small"},model:{value:t.nickName,callback:function(e){t.nickName=e},expression:"nickName"}})],1),i("div",[i("span",[t._v("状态：")]),i("el-select",{staticStyle:{width:"240px"},attrs:{size:"mini",placeholder:"请选择"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},t._l(t.statusOptions,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),i("div",{staticClass:"flex align-center justify-center",staticStyle:{flex:"2"}},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.search()}}},[t._v("查询")]),i("el-button",{attrs:{size:"small"},on:{click:function(e){return t.reset()}}},[t._v("重置")])],1),i("div",[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.addPerson()}}},[t._v("新建员工")])],1)]),i("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:t.tableData,"row-key":"id",border:"",size:"small","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"},"header-cell-style":{background:"#eef1f6",color:"#606266"}}},[i("el-table-column",{attrs:{prop:"nickName",label:"昵称（系统名）",width:"140"}}),i("el-table-column",{attrs:{prop:"tel",width:"140",label:"电话"}}),i("el-table-column",{attrs:{prop:"roleName",width:"120",label:"主要负责人"}}),i("el-table-column",{attrs:{prop:"positionName",width:"100",label:"职位"}}),i("el-table-column",{attrs:{prop:"status",width:"120",label:"状态"}},[[i("div",{staticClass:"status_box"},[i("div",{staticClass:"status_icon"}),i("span",[t._v("正常")])])]],2),i("el-table-column",{attrs:{prop:"remake",label:"备注"}}),i("el-table-column",{attrs:{width:"250",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.editLogin(e.row)}}},[t._v("编辑")]),i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){t.prohibitLogin=!0}}},[t._v("禁止登录 ")]),i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){t.resetPassword=!0}}},[t._v("重置密码")]),i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){t.Deactivate=!0}}},[t._v("停用")])]}}])})],1),[i("div",{staticClass:"pagination-box"},[t._m(1),i("div",{staticClass:"pagination-item"},[i("div",{staticClass:"block"},[i("el-pagination",{attrs:{"page-size":10,"current-page":t.currentPage,background:"","pager-count":9,layout:"prev, pager, next,jumper",total:t.rowCount},on:{"current-change":t.handleCurrentChange}})],1)])])]],2),i("el-dialog",{attrs:{title:"重置密码",width:"480px",top:"40vh",visible:t.resetPassword},on:{close:function(e){return t.resetDialog()},"update:visible":function(e){t.resetPassword=e}}},[i("div",{staticClass:"dialang-box"},[i("el-input",{staticStyle:{width:"423px",height:"32px"},attrs:{placeholder:"请输入密码",size:"mini","show-password":""},model:{value:t.Password,callback:function(e){t.Password=e},expression:"Password"}})],1),i("div",{staticClass:"password-prompt"},[i("span",[t._v("重置密码后，系统不会发短信通知员工；请将密码告知员工，确保其正常使用。")])]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini"},on:{click:function(e){t.resetPassword=!1}}},[t._v("取 消")]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.resetPasswordOk()}}},[t._v("确 定")])],1)]),i("el-dialog",{attrs:{title:"禁止登陆",width:"480px",top:"40vh",visible:t.prohibitLogin},on:{"update:visible":function(e){t.prohibitLogin=e}}},[i("div",{staticClass:"password-prompt"},[i("span",[t._v("被禁止登录的账号在帐号密码正确的情况下也无法正常登录系统，确定禁止登录？")])]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini"},on:{click:function(e){t.prohibitLogin=!1}}},[t._v("取 消")]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.prohibitLoginOk()}}},[t._v("确 定")])],1)]),i("el-dialog",{attrs:{title:"停用帐号提示",width:"480px",top:"40vh",visible:t.Deactivate},on:{"update:visible":function(e){t.Deactivate=e}}},[i("div",{staticClass:"password-prompt"},[i("span",[t._v("确定要停用帐号？")])]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini"},on:{click:function(e){t.Deactivate=!1}}},[t._v("取 消")]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){t.Deactivate=!1}}},[t._v("确 定")])],1)])],1)])])},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main-titel"},[i("span",[t._v("人员管理")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pagination-item"},[i("p",[t._v("当前1-3，共3条 "),i("span",[t._v("每页显示10条")])])])}],s=(i("4de4"),i("c975"),i("b0c0"),i("fcac")),o={data:function(){return{filterText:"",Password:"",prohibitLogin:!1,resetPassword:!1,Deactivate:!1,handleId:null,tableData:[],organizationData:[],defaultProps:{children:"organizationList",label:"name"},currentPage:1,limit:10,pageCount:null,rowCount:null,organizationId:null,nickName:null,status:null,statusOptions:[{value:1,label:"正常"},{value:2,label:"异常"}]}},created:function(){this.getData(),this.getTableData()},methods:{organizationChange:function(t){console.log(t),this.organizationId=t.id,this.getTableData()},search:function(){this.getTableData()},reset:function(){this.nickName=null,this.status=null,this.getTableData()},prohibitLoginOk:function(){this.prohibitLogin=!1},resetPasswordOk:function(){this.resetPassword=!1},resetDialog:function(){},getTableData:function(){var t=this,e={pageNum:this.currentPage,size:this.limit,organizationId:this.organizationId,nickName:this.nickName,status:this.status};Object(s["h"])(e).then((function(e){console.log(e),t.tableData=e.tableList,t.rowCount=e.rowCount}))},addPerson:function(){},filterNode:function(t,e){return console.log(t),!t||-1!==e.name.indexOf(t)},getData:function(){var t=this;Object(s["f"])().then((function(e){console.log(e),t.organizationData=e}))},editLogin:function(t){this.drawer=!0,console.log(t)},handleCurrentChange:function(t){this.currentPage=t,this.getTableData()}},watch:{filterText:function(t){this.$refs.tree.filter(t)}}},r=o,l=(i("9788"),i("2877")),c=Object(l["a"])(r,a,n,!1,null,"5fd9507e",null);e["default"]=c.exports},"4de4":function(t,e,i){"use strict";var a=i("23e7"),n=i("b727").filter,s=i("1dde"),o=i("ae40"),r=s("filter"),l=o("filter");a({target:"Array",proto:!0,forced:!r||!l},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},7445:function(t,e,i){},9788:function(t,e,i){"use strict";var a=i("7445"),n=i.n(a);n.a},b0c0:function(t,e,i){var a=i("83ab"),n=i("9bf2").f,s=Function.prototype,o=s.toString,r=/^\s*function ([^ (]*)/,l="name";a&&!(l in s)&&n(s,l,{configurable:!0,get:function(){try{return o.call(this).match(r)[1]}catch(t){return""}}})},c975:function(t,e,i){"use strict";var a=i("23e7"),n=i("4d64").indexOf,s=i("a640"),o=i("ae40"),r=[].indexOf,l=!!r&&1/[1].indexOf(1,-0)<0,c=s("indexOf"),u=o("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:l||!c||!u},{indexOf:function(t){return l?r.apply(this,arguments)||0:n(this,t,arguments.length>1?arguments[1]:void 0)}})},fcac:function(t,e,i){"use strict";i.d(e,"f",(function(){return n})),i.d(e,"e",(function(){return s})),i.d(e,"g",(function(){return o})),i.d(e,"h",(function(){return r})),i.d(e,"c",(function(){return l})),i.d(e,"a",(function(){return c})),i.d(e,"b",(function(){return u})),i.d(e,"d",(function(){return d}));var a=i("b775");i("2c37");function n(t){return a["a"].request({method:"GET",url:"/sysOrganization/list",params:t})}function s(t){return a["a"].request({method:"GET",url:"/sysOrganization/findById",params:t})}function o(t){return a["a"].request({method:"POST",url:"/sysOrganization/update",data:t})}function r(t){return a["a"].request({method:"GET",url:"/sysUser/list",params:t})}function l(t){return a["a"].request({method:"GET",url:"/functionAuthority/roleList",params:t})}function c(t){return a["a"].request({method:"GET",url:"/functionAuthority/list",params:t})}function u(t){return a["a"].request({method:"GET",url:"/functionAuthority/listJurisdiction",params:t})}function d(t){return a["a"].request({method:"POST",url:"/functionAuthority/updateOneJurisdiction",data:t})}}}]);
//# sourceMappingURL=chunk-1647ea51.e7410527.js.map