(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-89e22638"],{1962:function(e,t,r){"use strict";var n=r("6f70"),o=r.n(n);o.a},"48e8":function(e,t,r){"use strict";r.d(t,"F",(function(){return o})),r.d(t,"G",(function(){return i})),r.d(t,"K",(function(){return u})),r.d(t,"b",(function(){return a})),r.d(t,"d",(function(){return s})),r.d(t,"H",(function(){return l})),r.d(t,"I",(function(){return d})),r.d(t,"O",(function(){return m})),r.d(t,"Q",(function(){return c})),r.d(t,"P",(function(){return f})),r.d(t,"R",(function(){return p})),r.d(t,"T",(function(){return h})),r.d(t,"S",(function(){return b})),r.d(t,"e",(function(){return w})),r.d(t,"h",(function(){return g})),r.d(t,"i",(function(){return v})),r.d(t,"f",(function(){return T})),r.d(t,"c",(function(){return C})),r.d(t,"a",(function(){return q})),r.d(t,"J",(function(){return O})),r.d(t,"N",(function(){return I})),r.d(t,"M",(function(){return y})),r.d(t,"L",(function(){return F})),r.d(t,"C",(function(){return S})),r.d(t,"D",(function(){return P})),r.d(t,"k",(function(){return E})),r.d(t,"E",(function(){return G})),r.d(t,"A",(function(){return k})),r.d(t,"m",(function(){return _})),r.d(t,"j",(function(){return U})),r.d(t,"l",(function(){return N})),r.d(t,"B",(function(){return B})),r.d(t,"o",(function(){return $})),r.d(t,"n",(function(){return x})),r.d(t,"x",(function(){return D})),r.d(t,"w",(function(){return j})),r.d(t,"z",(function(){return A})),r.d(t,"y",(function(){return L})),r.d(t,"g",(function(){return V})),r.d(t,"q",(function(){return R})),r.d(t,"s",(function(){return z})),r.d(t,"p",(function(){return M})),r.d(t,"r",(function(){return J})),r.d(t,"Y",(function(){return W})),r.d(t,"gb",(function(){return H})),r.d(t,"eb",(function(){return K})),r.d(t,"Z",(function(){return Q})),r.d(t,"bb",(function(){return X})),r.d(t,"V",(function(){return Y})),r.d(t,"ab",(function(){return Z})),r.d(t,"U",(function(){return ee})),r.d(t,"X",(function(){return te})),r.d(t,"cb",(function(){return re})),r.d(t,"db",(function(){return ne})),r.d(t,"fb",(function(){return oe})),r.d(t,"W",(function(){return ie})),r.d(t,"u",(function(){return ue})),r.d(t,"v",(function(){return ae})),r.d(t,"t",(function(){return se}));var n=r("b775");r("2c37");function o(e){return n["a"].request({method:"GET",url:"/userArticleOut/countArticleOutNow",params:e})}function i(e){return n["a"].request({method:"GET",url:"/userArticleOut/countPerformed",params:e})}function u(e){return n["a"].request({method:"GET",url:"/visitors/countVisitorsNew",params:e})}function a(e){return n["a"].request({method:"GET",url:"/advice/countComplaintNew",params:e})}function s(e){return n["a"].request({method:"GET",url:"/advice/countPraiseNew",params:e})}function l(e){return n["a"].request({method:"GET",url:"/userDecoration/countDecorationNow",params:e})}function d(e){return n["a"].request({method:"GET",url:"/userDecoration/countPerformed",params:e})}function m(e){return n["a"].request({method:"GET",url:"/vote/countVoteExpectedStart",params:e})}function c(e){return n["a"].request({method:"GET",url:"/vote/findDetailById",params:e})}function f(e){return n["a"].request({method:"GET",url:"/vote/findById",params:e})}function p(e){return n["a"].request({method:"POST",url:"/vote/insert",data:e})}function h(e){return n["a"].request({method:"POST",url:"/vote/update",data:e})}function b(e){return n["a"].request({method:"POST",url:"/vote/release",data:e})}function w(e){return n["a"].request({method:"GET",url:"/advice/findById",params:e})}function g(e){return n["a"].request({method:"GET",url:"/complaintPraise/findById",params:e})}function v(e){return n["a"].request({method:"POST",url:"/complaintPraise/insertDetail",data:e})}function T(e){return n["a"].request({method:"POST",url:"/advice/insertDetail",data:e})}function C(e){return n["a"].request({method:"GET",url:"/advice/countConsultNew",params:e})}function q(e){return n["a"].request({method:"GET",url:"/advice/countAdviceNew",params:e})}function O(e){return n["a"].request({method:"POST",url:"/visitors/cancel",data:e})}function I(e){return n["a"].request({method:"POST",url:"/visitors/update",data:e})}function y(e){return n["a"].request({method:"GET",url:"/visitors/listDetail",params:e})}function F(e){return n["a"].request({method:"GET",url:"/visitors/findById",params:e})}function S(e){return n["a"].request({method:"GET",url:"/reportRepair/findRepairDetail",params:e})}function P(e){return n["a"].request({method:"POST",url:"/reportRepair/insert",data:e})}function E(e){return n["a"].request({method:"POST",url:"/dispatch/dispatch",data:e})}function G(e){return n["a"].request({method:"POST",url:"/reportRepair/update",data:e})}function k(e){return n["a"].request({method:"GET",url:"/dispatch/repairWorkOrderDetail",params:e})}function _(e){return n["a"].request({method:"POST",url:"/dispatch/revisit",data:e})}function U(e){return n["a"].request({method:"POST",url:"/dispatch/cancel",data:e})}function N(e){return n["a"].request({method:"GET",url:"/dispatch/findSysUserLikeActualName",params:e})}function B(e){return n["a"].request({method:"GET",url:"/reportRepair/findById",params:e})}function $(e){return n["a"].request({method:"POST",url:"/facilitiesManage/insert",data:e})}function x(e){return n["a"].request({method:"POST",url:"/facilitiesCategory/insert",data:e})}function D(e){return n["a"].request({method:"POST",url:"/questionnaire/insert",data:e})}function j(e){return n["a"].request({method:"GET",url:"/questionnaire/findById",params:e})}function A(e){return n["a"].request({method:"POST",url:"/questionnaire/update",data:e})}function L(e){return n["a"].request({method:"GET",url:"/questionnaire/reportAnalysis",params:e})}function V(e){return n["a"].request({method:"GET",url:"/article/findById",params:e})}function R(e){return n["a"].request({method:"POST",url:"/gambit/insert",data:e})}function z(e){return n["a"].request({method:"POST",url:"/gambit/update",data:e})}function M(e){return n["a"].request({method:"GET",url:"/gambit/findById",params:e})}function J(e){return n["a"].request({method:"POST",url:"/gambitTheme/recovery",data:e})}function W(e){return n["a"].request({method:"GET",url:"/workOrderType/list",params:e})}function H(e){return n["a"].request({method:"POST",url:"/workOrderType/update",data:e})}function K(e){return n["a"].request({method:"POST",url:"/workOrderType/insert",data:e})}function Q(e){return n["a"].request({method:"GET",url:"/workOrderType/delete",params:e})}function X(e){return n["a"].request({method:"POST",url:"/workOrderTypeDetail/insert",data:e})}function Y(e){return n["a"].request({method:"POST",url:"/workOrderTimeLimit/insert",data:e})}function Z(e){return n["a"].request({method:"POST",url:"/workOrderTypeDetail/delete",data:e})}function ee(e){return n["a"].request({method:"GET",url:"/workOrderTimeLimit/findById",params:e})}function te(e){return n["a"].request({method:"POST",url:"/workOrderTimeLimit/update",data:e})}function re(e){return n["a"].request({method:"POST",url:"/workOrderTypeDetail/update",data:e})}function ne(e){return n["a"].request({method:"GET",url:"/workOrderTypeDetail/findById",params:e})}function oe(e){return n["a"].request({method:"GET",url:"/workOrderTypeDetail/list",params:e})}function ie(e){return n["a"].request({method:"GET",url:"/workOrderTimeLimit/list",params:e})}function ue(e){return n["a"].request({method:"POST",url:"/ownersCommittee/insert",data:e})}function ae(e){return n["a"].request({method:"POST",url:"/ownersCommittee/update",data:e})}function se(e){return n["a"].request({method:"GET",url:"/ownersCommittee/findById",params:e})}},"4de4":function(e,t,r){"use strict";var n=r("23e7"),o=r("b727").filter,i=r("1dde"),u=r("ae40"),a=i("filter"),s=u("filter");n({target:"Array",proto:!0,forced:!a||!s},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},"6f70":function(e,t,r){},"9a2f":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main-content"},[e._m(0),r("div",{staticClass:"content"},[r("div",{staticClass:"content-btn"},[r("el-button",{staticClass:"init-button",attrs:{icon:"el-icon-plus"},on:{click:e.addOwnersCommittee}},[e._v("新增成员")])],1),r("div",{},[r("VueTable",{ref:"table",attrs:{config:e.config},on:{tableCheck:e.tableCheck}},[r("template",{slot:"footer"},[r("div",{staticClass:"table-footer"},[r("button",{on:{click:function(t){return e.edit(e.table_row)}}},[e._v("编辑")]),r("button",{on:{click:function(t){return e.del(e.table_row)}}},[e._v("删除")])])])],2)],1)]),r("Drawer",{attrs:{drawerTitle:e.ownersCommitteeTitle,drawerVrisible:e.ownersCommittee_vrisible},on:{drawerClose:e.ownersCommitteeClose}},[r("div",{staticStyle:{padding:"30px"}},[r("FromCard",[r("template",{slot:"title"},[e._v("基本信息")]),[r("VueForm",{ref:"ownersCommitteeVueForm",attrs:{formObj:e.ownersCommitteeForm},on:{ruleSuccess:e.ownersCommitteeRuleSubmit},scopedSlots:e._u([{key:"residentId",fn:function(){return[r("el-select",{staticStyle:{width:"240px"},attrs:{disabled:!!e.editId,"remote-method":e.remoteMethod,loading:e.loading,remote:"",filterable:"",placeholder:"请选择"},on:{change:function(t){return e.change(t,e.options)},focus:e.focus},model:{value:e.ownersCommitteeForm.ruleForm.residentId,callback:function(t){e.$set(e.ownersCommitteeForm.ruleForm,"residentId",t)},expression:"ownersCommitteeForm.ruleForm.residentId"}},e._l(e.options,(function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)]},proxy:!0}])},[r("template",{slot:"fileUrls"},[[r("el-upload",{attrs:{action:e.$baseUrl+"upload/uploadOwnersCommittee","on-success":e.ownersImgeSuccess,"show-file-list":!1,"before-upload":e.beforeAvatarUpload}},[r("div",{staticClass:"sys-image",staticStyle:{width:"104px",height:"104px"}},[e.fileUrls?[e.editBool?r("el-image",{staticStyle:{width:"104px",height:"104px"},attrs:{src:""+e.$ImgUrl+e.fileUrls}}):r("el-image",{staticStyle:{width:"104px",height:"104px"},attrs:{src:e.$ImgUrl+"/temp"+e.fileUrls}})]:r("div",[r("i",{staticClass:"el-icon-plus"}),r("p",[e._v("上传照片")])])],2)])]],2)],2)]],2)],1),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("button",{staticClass:"btn-orange",on:{click:function(t){return e.ownersCommitteeSubmit()}}},[r("span",[r("i",{staticClass:"el-icon-circle-check"}),e._v("提交")])]),r("button",{staticClass:"btn-gray",on:{click:e.ownersCommitteeClose}},[r("span",[e._v("取消")])])])])],1)},o=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main-titel"},[r("span",[e._v("业委会管理")])])}],i=(r("4de4"),r("b0c0"),r("48e8")),u=r("2b74"),a={data:function(){return{options:[],loading:!1,ownersCommitteeTitle:"",ownersCommittee_vrisible:!1,editBool:!1,editId:0,table_row:[],config:{thead:[{label:"序号",type:"index",width:"80"},{label:"职位",prop:"positionId",width:"auto"},{label:"姓名",prop:"name",width:"auto"},{label:"性别",prop:"sexId",width:"auto"},{label:"年龄",prop:"age",width:"auto"},{label:"学历",prop:"educationId",width:"auto"},{label:"房屋信息",prop:"roomName",width:"auto"},{label:"职业",prop:"profession",width:"auto"}],table_data:[],url:"ownersCommitteeList",search_item:[{type:"select",label:"职位",placeholder:"请输入",prop:"positionId",value:"",options:[{value:1,label:"业委会主任"},{value:2,label:"业委会副主任"},{value:3,label:"业委会委员"}]},{type:"Input",label:"姓名",placeholder:"请输入",prop:"name"},{type:"select",label:"学历",placeholder:"请选择",prop:"educationId",options:[{value:1,label:"专科"},{value:2,label:"本科"},{value:3,label:"硕士"},{value:4,label:"博士"}]},{type:"select",label:"性别",placeholder:"请选择",prop:"sexId",value:"",options:[{value:"1",label:"男"},{value:"2",label:"女"}]},{type:"Input",label:"房屋信息",placeholder:"请输入",prop:"roomName"},{type:"Input",label:"职业",placeholder:"请输入",prop:"profession"}],data:{pageNum:1,size:10}},fileUrls:"",ownersCommitteeForm:{ruleForm:{residentId:null,positionId:null,age:null,educationId:null,roomName:null,profession:null,fileUrls:[]},form_item:[{type:"Slot",label:"姓名",placeholder:"请输入姓名",width:"50%",prop:"residentId",slotName:"residentId"},{type:"Select",label:"职位",placeholder:"请选择职位",width:"50%",prop:"positionId",options:[{value:1,label:"业委会主任"},{value:2,label:"业委会副主任"},{value:3,label:"业委会委员"}]},{type:"Input",label:"年龄",placeholder:"请输入年龄",width:"50%",prop:"age"},{type:"Select",label:"学历",placeholder:"请选择学历",width:"50%",prop:"educationId",options:[{value:1,label:"专科"},{value:2,label:"本科"},{value:3,label:"硕士"},{value:4,label:"博士"}]},{type:"Input",label:"房屋信息",placeholder:"请输入房屋信息",width:"50%",prop:"roomName",disabled:!0},{type:"Input",label:"职业",placeholder:"请输入职业",width:"50%",prop:"profession"},{type:"Slot",label:"图片上传",width:"100%",prop:"fileUrls",slotName:"fileUrls"}],rules:{residentId:[{required:!0,message:"请输入姓名",trigger:"change"}],positionId:[{required:!0,message:"请选择职位",trigger:"change"}],sex:[{required:!0,message:"请选择性别",trigger:"change"}],age:[{required:!0,message:"请输入工单名称",trigger:"blur"}],educationId:[{required:!0,message:"请选择学历",trigger:"change"}],roomName:[{required:!0,message:"请输入房屋信息",trigger:"blur"}],profession:[{required:!0,message:"请选择职业",trigger:"blur"}],fileUrls:[{required:!0,message:"请上传图片",trigger:"change"}]}},ownersObj:{}}},methods:{remoteMethod:function(e){var t=this,r={pageNum:1,size:20,name:e};this.loading=!0,Object(u["F"])(r).then((function(e){t.options=e.tableList,t.loading=!1}))},focus:function(){var e=this,t={pageNum:1,size:20};this.loading=!0,Object(u["F"])(t).then((function(t){e.options=t.tableList,e.loading=!1,console.log(t)}))},change:function(e,t){var r=t.filter((function(t){if(t.value===e)return t}));this.ownersObj=r[0],this.ownersCommitteeForm.ruleForm.roomName=this.ownersObj.roomName,console.log(this.ownersObj)},ownersCommitteeRuleSubmit:function(){var e=this,t={residentId:this.ownersObj.value,positionId:this.ownersCommitteeForm.ruleForm.positionId,age:this.ownersCommitteeForm.ruleForm.age,educationId:this.ownersCommitteeForm.ruleForm.educationId,estateId:this.ownersObj.estateId,profession:this.ownersCommitteeForm.ruleForm.profession,fileUrls:this.ownersCommitteeForm.ruleForm.fileUrls};this.editId?(t.id=this.editId,Object(i["v"])(t).then((function(t){t.status&&(e.$message({message:t.message,type:"success"}),e.$refs.table.loadData(),e.ownersCommitteeClose())}))):(console.log(t),Object(i["u"])(t).then((function(t){t.status&&(e.$message({message:t.message,type:"success"}),e.ownersCommitteeClose(),e.$refs.table.loadData())})))},ownersCommitteeSubmit:function(){this.$refs.ownersCommitteeVueForm.submitForm()},addOwnersCommittee:function(){this.ownersCommitteeTitle=" 添加成员",this.ownersCommittee_vrisible=!0},edit:function(e){var t=this;if(e.length){if(e.length>1)return void this.$message.error("不能批量编辑");this.ownersCommitteeTitle=" 修改成员",this.ownersCommittee_vrisible=!0;var r={id:e[0].id};this.ownersCommitteeForm.ruleForm.residentId=e[0].name,this.ownersCommitteeForm.ruleForm.roomName=e[0].roomName,this.ownersCommitteeForm.ruleForm.positionId=e[0].positionId,this.ownersCommitteeForm.ruleForm.age=e[0].age,this.ownersCommitteeForm.ruleForm.educationId=e[0].educationId,this.ownersCommitteeForm.ruleForm.profession=e[0].profession,this.ownersObj.value=e[0].estateId,this.ownersObj.estateId=e[0].estateId,Object(i["t"])(r).then((function(e){console.log(e),t.editBool=!0,t.editId=e.id,t.ownersCommitteeForm.ruleForm.fileUrls[0]=e.imgUrls[0].url,t.fileUrls=e.imgUrls[0].url}))}else this.$message.error("请选择需要编辑的数据")},tableCheck:function(e){this.table_row=e},ownersCommitteeClose:function(){for(var e in this.editId=0,this.fileUrls="",this.ownersObj={},this.ownersCommitteeForm.ruleForm)this.$set(this.ownersCommitteeForm.ruleForm,e,null);console.log(this.ownersCommitteeForm.ruleForm),this.$refs.ownersCommitteeVueForm.reset(),this.ownersCommittee_vrisible=!1},del:function(e){for(var t=this,r=[],n=0;n<this.table_row.length;n++)r.push(this.table_row[n].id);r.length?this.$confirm("是否删除？删除不可找回","删除",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(){t.$refs.table.tableDelete(r)})).catch((function(e){})):this.$message.error("请选中需要删除的表格数据")},ownersImgeSuccess:function(e,t){this.fileUrls=e.url,this.ownersCommitteeForm.ruleForm.fileUrls[0]=e.url,this.editBool=!1},beforeAvatarUpload:function(e){var t=e.size/1024/1024<2,r="image/png"===e.type,n="image/jpeg"===e.type;return r||n||this.$message.error("上传头像图片只能是 JPG/PNG 格式!"),t||this.$message.error("上传头像图片大小不能超过 2MB!"),(r||n)&&t}}},s=a,l=(r("1962"),r("2877")),d=Object(l["a"])(s,n,o,!1,null,null,null);t["default"]=d.exports},b0c0:function(e,t,r){var n=r("83ab"),o=r("9bf2").f,i=Function.prototype,u=i.toString,a=/^\s*function ([^ (]*)/,s="name";n&&!(s in i)&&o(i,s,{configurable:!0,get:function(){try{return u.call(this).match(a)[1]}catch(e){return""}}})}}]);
//# sourceMappingURL=chunk-89e22638.768b451c.js.map