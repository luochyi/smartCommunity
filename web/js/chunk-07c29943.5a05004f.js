(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-07c29943"],{"473b":function(e,t,r){},"48e8":function(e,t,r){"use strict";r.d(t,"F",(function(){return n})),r.d(t,"G",(function(){return o})),r.d(t,"K",(function(){return a})),r.d(t,"b",(function(){return u})),r.d(t,"d",(function(){return s})),r.d(t,"H",(function(){return d})),r.d(t,"I",(function(){return c})),r.d(t,"O",(function(){return l})),r.d(t,"Q",(function(){return m})),r.d(t,"P",(function(){return f})),r.d(t,"R",(function(){return p})),r.d(t,"T",(function(){return h})),r.d(t,"S",(function(){return T})),r.d(t,"e",(function(){return b})),r.d(t,"h",(function(){return v})),r.d(t,"i",(function(){return y})),r.d(t,"f",(function(){return g})),r.d(t,"c",(function(){return D})),r.d(t,"a",(function(){return C})),r.d(t,"J",(function(){return k})),r.d(t,"N",(function(){return O})),r.d(t,"M",(function(){return q})),r.d(t,"L",(function(){return w})),r.d(t,"C",(function(){return F})),r.d(t,"D",(function(){return S})),r.d(t,"k",(function(){return E})),r.d(t,"E",(function(){return _})),r.d(t,"A",(function(){return L})),r.d(t,"m",(function(){return B})),r.d(t,"j",(function(){return I})),r.d(t,"l",(function(){return P})),r.d(t,"B",(function(){return G})),r.d(t,"o",(function(){return $})),r.d(t,"n",(function(){return x})),r.d(t,"x",(function(){return A})),r.d(t,"w",(function(){return N})),r.d(t,"z",(function(){return j})),r.d(t,"y",(function(){return V})),r.d(t,"g",(function(){return R})),r.d(t,"q",(function(){return z})),r.d(t,"s",(function(){return J})),r.d(t,"p",(function(){return U})),r.d(t,"r",(function(){return Y})),r.d(t,"Y",(function(){return M})),r.d(t,"gb",(function(){return W})),r.d(t,"eb",(function(){return X})),r.d(t,"Z",(function(){return Z})),r.d(t,"bb",(function(){return H})),r.d(t,"V",(function(){return K})),r.d(t,"ab",(function(){return Q})),r.d(t,"U",(function(){return ee})),r.d(t,"X",(function(){return te})),r.d(t,"cb",(function(){return re})),r.d(t,"db",(function(){return ie})),r.d(t,"fb",(function(){return ne})),r.d(t,"W",(function(){return oe})),r.d(t,"u",(function(){return ae})),r.d(t,"v",(function(){return ue})),r.d(t,"t",(function(){return se}));var i=r("b775");r("2c37");function n(e){return i["a"].request({method:"GET",url:"/userArticleOut/countArticleOutNow",params:e})}function o(e){return i["a"].request({method:"GET",url:"/userArticleOut/countPerformed",params:e})}function a(e){return i["a"].request({method:"GET",url:"/visitors/countVisitorsNew",params:e})}function u(e){return i["a"].request({method:"GET",url:"/advice/countComplaintNew",params:e})}function s(e){return i["a"].request({method:"GET",url:"/advice/countPraiseNew",params:e})}function d(e){return i["a"].request({method:"GET",url:"/userDecoration/countDecorationNow",params:e})}function c(e){return i["a"].request({method:"GET",url:"/userDecoration/countPerformed",params:e})}function l(e){return i["a"].request({method:"GET",url:"/vote/countVoteExpectedStart",params:e})}function m(e){return i["a"].request({method:"GET",url:"/vote/findDetailById",params:e})}function f(e){return i["a"].request({method:"GET",url:"/vote/findById",params:e})}function p(e){return i["a"].request({method:"POST",url:"/vote/insert",data:e})}function h(e){return i["a"].request({method:"POST",url:"/vote/update",data:e})}function T(e){return i["a"].request({method:"POST",url:"/vote/release",data:e})}function b(e){return i["a"].request({method:"GET",url:"/advice/findById",params:e})}function v(e){return i["a"].request({method:"GET",url:"/complaintPraise/findById",params:e})}function y(e){return i["a"].request({method:"POST",url:"/complaintPraise/insertDetail",data:e})}function g(e){return i["a"].request({method:"POST",url:"/advice/insertDetail",data:e})}function D(e){return i["a"].request({method:"GET",url:"/advice/countConsultNew",params:e})}function C(e){return i["a"].request({method:"GET",url:"/advice/countAdviceNew",params:e})}function k(e){return i["a"].request({method:"POST",url:"/visitors/cancel",data:e})}function O(e){return i["a"].request({method:"POST",url:"/visitors/update",data:e})}function q(e){return i["a"].request({method:"GET",url:"/visitors/listDetail",params:e})}function w(e){return i["a"].request({method:"GET",url:"/visitors/findById",params:e})}function F(e){return i["a"].request({method:"GET",url:"/reportRepair/findRepairDetail",params:e})}function S(e){return i["a"].request({method:"POST",url:"/reportRepair/insert",data:e})}function E(e){return i["a"].request({method:"POST",url:"/dispatch/dispatch",data:e})}function _(e){return i["a"].request({method:"POST",url:"/reportRepair/update",data:e})}function L(e){return i["a"].request({method:"GET",url:"/dispatch/repairWorkOrderDetail",params:e})}function B(e){return i["a"].request({method:"POST",url:"/dispatch/revisit",data:e})}function I(e){return i["a"].request({method:"POST",url:"/dispatch/cancel",data:e})}function P(e){return i["a"].request({method:"GET",url:"/dispatch/findSysUserLikeActualName",params:e})}function G(e){return i["a"].request({method:"GET",url:"/reportRepair/findById",params:e})}function $(e){return i["a"].request({method:"POST",url:"/facilitiesManage/insert",data:e})}function x(e){return i["a"].request({method:"POST",url:"/facilitiesCategory/insert",data:e})}function A(e){return i["a"].request({method:"POST",url:"/questionnaire/insert",data:e})}function N(e){return i["a"].request({method:"GET",url:"/questionnaire/findById",params:e})}function j(e){return i["a"].request({method:"POST",url:"/questionnaire/update",data:e})}function V(e){return i["a"].request({method:"GET",url:"/questionnaire/reportAnalysis",params:e})}function R(e){return i["a"].request({method:"GET",url:"/article/findById",params:e})}function z(e){return i["a"].request({method:"POST",url:"/gambit/insert",data:e})}function J(e){return i["a"].request({method:"POST",url:"/gambit/update",data:e})}function U(e){return i["a"].request({method:"GET",url:"/gambit/findById",params:e})}function Y(e){return i["a"].request({method:"POST",url:"/gambitTheme/recovery",data:e})}function M(e){return i["a"].request({method:"GET",url:"/workOrderType/list",params:e})}function W(e){return i["a"].request({method:"POST",url:"/workOrderType/update",data:e})}function X(e){return i["a"].request({method:"POST",url:"/workOrderType/insert",data:e})}function Z(e){return i["a"].request({method:"GET",url:"/workOrderType/delete",params:e})}function H(e){return i["a"].request({method:"POST",url:"/workOrderTypeDetail/insert",data:e})}function K(e){return i["a"].request({method:"POST",url:"/workOrderTimeLimit/insert",data:e})}function Q(e){return i["a"].request({method:"POST",url:"/workOrderTypeDetail/delete",data:e})}function ee(e){return i["a"].request({method:"GET",url:"/workOrderTimeLimit/findById",params:e})}function te(e){return i["a"].request({method:"POST",url:"/workOrderTimeLimit/update",data:e})}function re(e){return i["a"].request({method:"POST",url:"/workOrderTypeDetail/update",data:e})}function ie(e){return i["a"].request({method:"GET",url:"/workOrderTypeDetail/findById",params:e})}function ne(e){return i["a"].request({method:"GET",url:"/workOrderTypeDetail/list",params:e})}function oe(e){return i["a"].request({method:"GET",url:"/workOrderTimeLimit/list",params:e})}function ae(e){return i["a"].request({method:"POST",url:"/ownersCommittee/insert",data:e})}function ue(e){return i["a"].request({method:"POST",url:"/ownersCommittee/update",data:e})}function se(e){return i["a"].request({method:"GET",url:"/ownersCommittee/findById",params:e})}},"871e":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main-content"},[e._m(0),r("div",{staticClass:"content"},[r("div",{},[r("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"工单类型管理",name:"1"}},[r("div",{staticClass:"row_nav"},[r("div",{staticClass:"left_nav"},[r("div",{staticClass:"left-title"},[r("span",{staticClass:"title_text"},[e._v("工单大类")]),r("div",{staticClass:"title-icon"},[r("div",{staticClass:"icon-box",on:{click:function(t){return e.typeListAdd()}}},[r("span",{staticClass:"el-icon-plus"})]),r("div",{staticClass:"icon-box",on:{click:function(t){return e.typeListDelete()}}},[r("span",{staticClass:"el-icon-delete-solid"})])])]),r("div",{staticClass:"ul-list"},[r("ul",e._l(e.typeList,(function(t,i){return r("li",{key:t.id,class:i===e.typeActive?"active":"",on:{click:function(r){return e.typeChange(i,t.id)}}},[t.editBool?r("el-input",{directives:[{name:"focus",rawName:"v-focus"}],staticStyle:{flex:"1"},attrs:{size:"small"},on:{blur:function(r){return e.editInputBlur(r,t.name,t.id,i)},focus:function(r){return e.editInputFocus(r,t.name)}},model:{value:t.name,callback:function(r){e.$set(t,"name",r)},expression:"item.name"}}):r("span",[e._v(e._s(t.name))]),r("span",[r("i",{staticClass:"el-icon-edit",on:{click:function(t){return t.stopPropagation(),e.editType(i)}}}),r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.remake?t.remake:t.name,placement:"right"}},[r("i",{staticClass:"el-icon-warning-outline"})])],1)],1)})),0)])]),r("div",{staticClass:"right_nav"},[r("div",{staticClass:"content-btn"},[r("el-button",{staticClass:"init-button",attrs:{icon:"el-icon-plus"},on:{click:function(t){return e.orderTypeDetailAdd()}}},[e._v("新增工单类型")])],1),r("div",{staticClass:"content-table",staticStyle:{width:"574px"}},[r("tableData",{attrs:{config:e.orderTpeData},on:{clickrow:e.tableTypeRow}}),r("div",{staticClass:"table-footer"},[r("button",{on:{click:function(t){return e.orderTypeEidt(e.orderTypeCheckData)}}},[e._v("编辑")]),r("button",{on:{click:function(t){return e.orderTypeDetailDel(e.orderTypeCheckData)}}},[e._v("删除")])])],1)])])]),r("el-tab-pane",{attrs:{label:"工单限时管理",name:"2"}},[r("div",{staticClass:"right_nav"},[r("div",{staticClass:"content-btn"},[r("el-button",{staticClass:"init-button",attrs:{icon:"el-icon-plus"},on:{click:e.orderTimeAdd}},[e._v("新增工单时限")])],1),r("VueTable",{ref:"orderTimeTable",attrs:{config:e.orderTimeTable},on:{tableCheck:e.orderTimeCheck}},[r("template",{slot:"footer"},[r("div",{staticClass:"table-footer"},[r("button",{on:{click:function(t){return e.orderTimeEidt(e.orderTimeCheckData)}}},[e._v("编辑")]),r("button",{on:{click:function(t){return e.orderTimeDel(e.orderTimeCheckData)}}},[e._v(" 删除")])])])],2)],1)])],1)],1)]),r("Drawer",{attrs:{drawerTitle:e.orderDetailTitle,drawerVrisible:e.orderDetail_vrisible},on:{drawerClose:e.orderDetailClose}},[r("div",{staticStyle:{padding:"30px"}},[r("FromCard",[r("template",{slot:"title"},[e._v("基本信息")]),[r("VueForm",{ref:"orderDetailVueForm",attrs:{formObj:e.orderDetailForm},on:{ruleSuccess:e.orderDetailRuleSubmit}})]],2)],1),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("button",{staticClass:"btn-orange",on:{click:function(t){return e.orderDetailSubmit()}}},[r("span",[r("i",{staticClass:"el-icon-circle-check"}),e._v("提交")])]),r("button",{staticClass:"btn-gray",on:{click:e.orderDetailClose}},[r("span",[e._v("取消")])])])]),r("Drawer",{attrs:{drawerTitle:e.orderTimeTitle,drawerVrisible:e.orderTime_vrisible},on:{drawerClose:e.orderTimeClose}},[r("div",{staticStyle:{padding:"30px"}},[r("FromCard",[r("template",{slot:"title"},[e._v("基本信息")]),[r("VueForm",{ref:"orderTimeVueForm",attrs:{formObj:e.orderTimeForm},on:{ruleSuccess:e.orderTimeRuleSubmit}},[r("template",{slot:"timeLimit"},[r("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请选择工单大类",size:"small"},model:{value:e.orderTimeForm.ruleForm.timeLimit,callback:function(t){e.$set(e.orderTimeForm.ruleForm,"timeLimit",e._n(t))},expression:"orderTimeForm.ruleForm.timeLimit"}},[r("span",{attrs:{slot:"suffix"},slot:"suffix"},[e._v("小时")])])],1)],2)]],2)],1),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("button",{staticClass:"btn-orange",on:{click:function(t){return e.orderTimeSubmit()}}},[r("span",[r("i",{staticClass:"el-icon-circle-check"}),e._v("提交")])]),r("button",{staticClass:"btn-gray",on:{click:e.orderTimeClose}},[r("span",[e._v("取消")])])])])],1)},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main-titel"},[r("span",[e._v("工单设置")])])}],o=(r("d81d"),r("b0c0"),r("48e8")),a={data:function(){return{orderTimeTitle:"新增工单时限",orderTime_vrisible:!1,orderTimeForm:{ruleForm:{name:null,timeLimit:null,remake:null},form_item:[{type:"Input",label:"名称",placeholder:"请输入",width:"100%",prop:"name"},{type:"Slot",label:"工单处理时限",placeholder:"请输入",width:"100%",prop:"timeLimit",slotName:"timeLimit"},{type:"textarea",label:"备注",placeholder:"请输入备注信息",width:"100%",rows:5,prop:"remake"}],rules:{name:[{required:!0,message:"请填写工单名称",trigger:"blur"}],timeLimit:[{required:!0,message:"请输入工单处理时限",trigger:"blur"},{type:"number",message:"年工单处理时限必须为数字值"}]}},orderDetailTitle:"新增工单类型",orderDetail_vrisible:!1,orderDetailForm:{ruleForm:{name:null,workOrderTypeId:null},form_item:[{type:"Select",label:"工单大类",placeholder:"请选择",disabled:!0,options:[],width:"50%",prop:"workOrderTypeId"},{type:"Input",label:"工单类型名称",placeholder:"请输入",width:"100%",prop:"name"}],rules:{name:[{required:!0,message:"请填写工单名称",trigger:"blur"}],workOrderTypeId:[{required:!0,message:"请选择工单大类",trigger:"change"}]}},orderDetailEidtId:0,orderTypeCheckData:[],orderTpeData:{thead:[{label:"序号",type:"index",width:"80"},{label:"名称",prop:"name",width:"auto"}],table_data:[],loading:!0},typeListName:"",typeList:[],typeActive:0,orderTimeTable:{thead:[{label:"序号",type:"index",width:"80"},{label:"名称",prop:"name",width:"auto"},{label:"处理时限（小时）",prop:"timeLimit",width:"auto"},{label:"备注",prop:"remake",width:"auto"}],table_data:[],url:"workOrderTimeLimitList",data:{pageNum:1,size:10}},orderTimeEidtId:0,orderTimeCheckData:[],activeName:"1"}},mounted:function(){this.getType(),this.getOrderTypeData()},directives:{focus:{inserted:function(e){e.querySelector("input").focus()}}},methods:{getOrderTypeData:function(){var e=this;Object(o["Y"])().then((function(t){var r=t.map((function(e){return{label:e.name,value:e.id}}));e.orderDetailForm.form_item[0].options=r}))},orderTypeDetailAdd:function(){this.orderDetail_vrisible=!0,this.orderDetailForm.ruleForm.workOrderTypeId=this.typeList[this.typeActive].id},tableTypeRow:function(e){this.orderTypeCheckData=e},orderTypeEidt:function(e){var t=this;if(e.length){if(e.length>1)return void this.$message.error("不能批量编辑");var r={id:e[0].id};Object(o["db"])(r).then((function(e){e&&(t.orderDetailEidtId=e.id,t.orderDetailForm.ruleForm.name=e.name,t.orderDetailForm.ruleForm.workOrderTypeId=t.typeList[t.typeActive].id,t.orderDetail_vrisible=!0),console.log(e)}))}else this.$message.error("请选择需要编辑的数据")},orderTypeDetailDel:function(e){var t=this;if(e.length){for(var r=[],i=0;i<this.orderTypeCheckData.length;i++)r.push(this.orderTypeCheckData[i].id);this.$confirm("是否确认删除？删除不可恢复","删除",{confirmButtonText:"确定",cancelButtonText:"取消",confirmButtonClass:"confirmButton",cancelButtonClass:"cancelButton"}).then((function(){var e={ids:r};Object(o["ab"])(e).then((function(e){t.$message({type:"success",message:e.message}),t.getType(),t.typeActive=0,t.orderDetailClose()}))})).catch((function(e){}))}else this.$message.error("请选中需要删除的数据")},orderDetailSubmit:function(){this.$refs.orderDetailVueForm.submitForm()},orderDetailRuleSubmit:function(){var e=this;if(this.orderDetailEidtId){var t={id:this.orderDetailEidtId,name:this.orderDetailForm.ruleForm.name};Object(o["cb"])(t).then((function(t){e.$message({type:"success",message:t.message}),e.getType(),e.orderDetailClose()}))}else{var r={name:this.orderDetailForm.ruleForm.name,workOrderTypeId:this.orderDetailForm.ruleForm.workOrderTypeId};Object(o["bb"])(r).then((function(t){e.$message({type:"success",message:t.message}),e.getType(),e.orderDetailClose()}))}},orderDetailClose:function(){this.$refs.orderDetailVueForm.reset(),this.orderDetailEidtId=0,this.orderDetail_vrisible=!1},orderTimeAdd:function(){this.orderTime_vrisible=!0},orderTimeEidt:function(e){var t=this;if(e.length){if(e.length>1)return void this.$message.error("不能批量编辑");var r={id:e[0].id};Object(o["U"])(r).then((function(e){e&&(t.orderTimeEidtId=e.id,t.orderTimeForm.ruleForm.name=e.name,t.orderTimeForm.ruleForm.timeLimit=e.timeLimit,t.orderTimeForm.ruleForm.remake=e.remake,t.orderTime_vrisible=!0)}))}else this.$message.error("请选择需要编辑的数据")},orderTimeSubmit:function(){this.$refs.orderTimeVueForm.submitForm()},orderTimeRuleSubmit:function(){var e=this,t={name:this.orderTimeForm.ruleForm.name,timeLimit:this.orderTimeForm.ruleForm.timeLimit,remake:this.orderTimeForm.ruleForm.remake};this.orderTimeEidtId?(t.id=this.orderTimeEidtId,console.log(t),Object(o["X"])(t).then((function(t){t.status&&e.$message({type:"success",message:t.message}),e.orderTimeClose(),e.$refs.orderTimeTable.loadData()}))):Object(o["V"])(t).then((function(t){e.$message({type:"success",message:t.message}),e.orderTimeClose(),e.$refs.orderTimeTable.loadData()}))},orderTimeClose:function(){this.orderTime_vrisible=!1,this.orderTimeEidtId=0,this.$refs.orderTimeVueForm.reset()},getType:function(){var e=this;Object(o["Y"])().then((function(t){e.typeList=t,e.typeList.map((function(t){e.$set(t,"editBool",!1)})),e.TypeList(e.typeList[e.typeActive].id)}))},typeListAdd:function(){var e=this;this.$prompt("请输入工单名称","添加工单大类",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(t){var r=t.value,i={name:r};Object(o["eb"])(i).then((function(t){console.log(t),e.$message({type:"success",message:t.message}),e.getType(),e.getOrderTypeData(),e.typeActive=0}))})).catch((function(){}))},typeListDelete:function(){var e=this;this.$confirm("是否确认删除工单大类？删除不可恢复","工单大类删除",{confirmButtonText:"确定",cancelButtonText:"取消",confirmButtonClass:"confirmButton",cancelButtonClass:"cancelButton"}).then((function(){var t={id:e.typeList[e.typeActive].id};Object(o["Z"])(t).then((function(t){t.status&&(e.$message({type:"success",message:t.message}),e.getType(),e.typeActive=0)}))})).catch((function(e){}))},editType:function(e){this.$set(this.typeList[e],"editBool",!0)},editInputBlur:function(e,t,r,i){if(this.$set(this.typeList[i],"editBool",!1),this.typeListName!==t){if(""===t)return this.typeList[i].name=this.typeListName,void this.$message.error("内容不能为空");var n={id:r,name:t};Object(o["gb"])(n).then((function(e){console.log(e)}))}},editInputFocus:function(e,t){this.typeListName=t},TypeList:function(e){var t=this,r={id:e};Object(o["fb"])(r).then((function(e){t.orderTpeData.table_data=e,t.orderTpeData.loading=!1}))},typeChange:function(e,t){this.typeActive=e,this.TypeList(t)},orderTimeCheck:function(e){this.orderTimeCheckData=e},orderTimeDel:function(e){var t=this;if(e.length){for(var r=[],i=0;i<this.orderTimeCheckData.length;i++)r.push(this.orderTimeCheckData[i].id);this.$confirm("是否确认删除？删除不可恢复","删除",{confirmButtonText:"确定",cancelButtonText:"取消",confirmButtonClass:"confirmButton",cancelButtonClass:"cancelButton"}).then((function(){t.$refs.orderTimeTable.tableDelete(r)})).catch((function(e){}))}else this.$message.error("请选中需要删除的数据")}}},u=a,s=(r("cdee"),r("2877")),d=Object(s["a"])(u,i,n,!1,null,"ace8f2c0",null);t["default"]=d.exports},b0c0:function(e,t,r){var i=r("83ab"),n=r("9bf2").f,o=Function.prototype,a=o.toString,u=/^\s*function ([^ (]*)/,s="name";i&&!(s in o)&&n(o,s,{configurable:!0,get:function(){try{return a.call(this).match(u)[1]}catch(e){return""}}})},cdee:function(e,t,r){"use strict";var i=r("473b"),n=r.n(i);n.a}}]);
//# sourceMappingURL=chunk-07c29943.5a05004f.js.map