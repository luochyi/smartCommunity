(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1415c7d0"],{b0c0:function(e,t,r){var i=r("83ab"),o=r("9bf2").f,n=Function.prototype,l=n.toString,s=/^\s*function ([^ (]*)/,a="name";i&&!(a in n)&&o(n,a,{configurable:!0,get:function(){try{return l.call(this).match(s)[1]}catch(e){return""}}})},e2ed:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main-content"},[e._m(0),r("div",{staticClass:"content"},[r("div",{staticClass:"content-btn"},[r("el-button",{staticClass:"init-button",attrs:{icon:"el-icon-plus"},on:{click:function(t){return e.addBuild()}}},[e._v("新增电话")]),r("el-button",{attrs:{type:"init-button2",icon:"el-icon-time",plain:""},on:{click:function(t){return e.InspectionDrawer()}}},[e._v("定时检查")])],1),r("VueTable",{ref:"table",attrs:{config:e.config},on:{tableCheck:e.tableCheck}},[r("template",{slot:"footer"},[r("div",{staticClass:"table-footer"},[r("button",{on:{click:function(t){return e.revise(e.table_row)}}},[e._v("编辑")]),r("button",{on:{click:function(t){return e.del(e.table_row)}}},[e._v("删除")])])])],2)],1),r("Drawer",{attrs:{drawerTitle:e.drawerTitle,drawerVrisible:e.drawer_vrisible},on:{drawerClose:e.drawerClose}},[r("div",{staticStyle:{padding:"30px"}},[r("FromCard",[r("template",{slot:"title"},[e._v("基本信息")]),[r("VueForm",{ref:"childFrom",attrs:{formObj:e.reviseForm},on:{ruleSubmit:e.ruleSubmit}})]],2)],1),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("button",{staticClass:"btn-orange",on:{click:function(t){return e.onSubmit()}}},[r("span",[r("i",{staticClass:"el-icon-circle-check"}),e._v("提交")])]),r("button",{staticClass:"btn-gray",on:{click:e.drawerClose}},[r("span",[e._v("取消")])])])]),r("Drawer",{attrs:{drawerTitle:"定时检查",drawerVrisible:e.Inspection_vrisible},on:{drawerClose:e.InspectionDrawerClose}},[r("div",{staticStyle:{padding:"30px"}},[r("FromCard",[r("template",{slot:"title"},[e._v("基本信息")]),[r("VueForm",{ref:"childFroms",attrs:{formObj:e.InspectionForm},on:{ruleSubmit:e.ruleSubmit}})]],2)],1),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("button",{staticClass:"btn-orange",on:{click:function(t){return e.InspectionSubmit()}}},[r("span",[r("i",{staticClass:"el-icon-circle-check"}),e._v("提交")])]),r("button",{staticClass:"btn-gray",on:{click:e.InspectionDrawerClose}},[r("span",[e._v("取消")])])])]),r("Dialog",{attrs:{dialogVisible:e.dialog_visible,dialog_config:e.dialog_config},on:{cancel:e.cancel,confirm:e.confirm}})],1)},o=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main-titel"},[r("span",[e._v("便民电话")])])}],n=(r("b0c0"),r("2b74")),l={data:function(){return{drawerTitle:"",Inspection_vrisible:!1,bool:!1,drawer_vrisible:!1,drawerControl:!0,dialog_visible:!1,dialog_config:{title:"删除提示",content:"是否确认删除？删除无法撤回！"},config:{thead:[{label:"序号",type:"index",width:"80"},{label:"名称",prop:"name",width:"auto"},{label:"联系方式",prop:"tel",width:"auto"},{label:"状态",prop:"status",width:"auto",type:"function",callback:function(e,t){switch(e.status){case 1:return"正常";case 2:return"有误";case 3:return"空号";default:break}}},{label:"类型",prop:"type",width:"auto",type:"function",callback:function(e,t){switch(e.status){case 1:return"业委会";case 2:return"绿化";case 3:return"快递";case 4:return"搬家";default:break}}},{label:"下次检查时间",prop:"nextControlDate",width:"auto"},{label:"检查状态",prop:"checkStatus",width:"auto"},{label:"权重",prop:"weight",width:"auto"}],url:"conveniencePhoneList",data:{pageNum:1,size:10},search_item:[{type:"Input",label:"联系名称",placeholder:"请输入内容",prop:"name"},{type:"Input",label:"联系电话",placeholder:"请输入",prop:"tel"}]},table_row:[],InspectionForm:{ruleForm:{reminderInterval:null,reminderContent:null},rules:{reminderInterval:[{required:!0,message:"请选择定时检查时间",trigger:"blur"}],reminderContent:[{required:!0,message:"请填写提醒内容",trigger:"blur"}]},form_item:[{type:"Select",label:"提醒间隔",placeholder:"请选择",options:[{value:1,label:"一个月"},{value:2,label:"半年"}],width:"100%",prop:"reminderInterval"},{type:"textarea",label:"提醒内容",placeholder:"请输入",rows:5,width:"100%",prop:"reminderContent"}]},reviseForm:{ruleForm:{name:null,status:null,tel:null,weight:null,type:null},rules:{name:[{required:!0,message:"请填写楼栋名称",trigger:"blur"}],status:[{required:!0,message:"请填写楼栋名称",trigger:"blur"}],tel:[{required:!0,message:"请填写楼栋名称",trigger:"blur"}],weight:[{required:!0,message:"请填写楼栋名称",trigger:"blur"}],type:[{required:!0,message:"请填写楼栋名称",trigger:"blur"}]},form_item:[{type:"Input",label:"联系名称",placeholder:"请输入",width:"50%",prop:"name"},{type:"Int",label:"联系方式",placeholder:"请输入",width:"50%",prop:"tel"},{type:"Select",label:"状态",placeholder:"请输入",options:[{value:1,label:"正常"},{value:2,label:"有误"},{value:3,label:"空号"}],width:"50%",prop:"status"},{type:"Select",label:"类型",placeholder:"请输入",options:[{value:1,label:"业委会"},{value:2,label:"绿化"},{value:3,label:"快递"},{value:4,label:"搬家"}],width:"50%",prop:"type"},{type:"Int",label:"权重",placeholder:"请输入权重",width:"50%",prop:"weight"}]}}},mounted:function(){},methods:{ruleSubmit:function(e){this.bool=e},onSubmit:function(){var e=this;if(this.$refs.childFrom.submitForm(),this.bool)if(this.drawerControl){var t={name:this.reviseForm.ruleForm.name,status:parseInt(this.reviseForm.ruleForm.status),tel:this.reviseForm.ruleForm.tel,weight:parseInt(this.reviseForm.ruleForm.weight),type:parseInt(this.reviseForm.ruleForm.type)};Object(n["g"])(t).then((function(t){console.log(t),t.status&&(e.$message({message:t.message,type:"success"}),e.getData(),e.drawerClose())})).catch((function(e){console.log(e)}))}else{var r={id:this.table_row[0].id,name:this.reviseForm.ruleForm.name,status:parseInt(this.reviseForm.ruleForm.status),tel:this.reviseForm.ruleForm.tel,weight:parseInt(this.reviseForm.ruleForm.weight),type:parseInt(this.reviseForm.ruleForm.type)};Object(n["h"])(r).then((function(t){console.log(t),t.status&&(e.$message({message:t.message,type:"success"}),e.getData(),e.drawerClose())})).catch((function(e){console.log(e)}))}},tableCheck:function(e){this.table_row=e},getData:function(){this.$refs.table.loadData()},drawerClose:function(){for(var e in this.$refs.childFrom.reset(),this.reviseForm.ruleForm)this.reviseForm.ruleForm[e]="";this.drawer_vrisible=!1},InspectionSubmit:function(){var e=this;if(this.$refs.childFroms.submitForm(),this.bool){var t={reminderInterval:this.InspectionForm.ruleForm.reminderInterval,reminderContent:this.InspectionForm.ruleForm.reminderContent};Object(n["i"])(t).then((function(t){t.status&&(e.$message({message:t.message,type:"success"}),e.getData(),e.InspectionDrawerClose())}))}},InspectionDrawer:function(){this.Inspection_vrisible=!0},InspectionDrawerClose:function(){for(var e in this.Inspection_vrisible=!1,this.$refs.childFroms.reset(),this.InspectionForm.ruleForm)this.InspectionForm.ruleForm[e]=""},addBuild:function(){this.drawerControl=!0,this.drawer_vrisible=!0,this.drawerTitle="新增电话"},revise:function(e){var t=this;if(console.log(e),e.length)if(e.length>1)this.$message.error("只能单条数据修改");else{var r={id:e[0].id};Object(n["f"])(r).then((function(e){t.reviseForm.ruleForm.name=e.voConveniencePhone.name,t.reviseForm.ruleForm.status=e.voConveniencePhone.status,t.reviseForm.ruleForm.tel=e.voConveniencePhone.tel,t.reviseForm.ruleForm.weight=e.voConveniencePhone.weight,t.reviseForm.ruleForm.type=e.voConveniencePhone.type,t.drawerControl=!1,t.drawerTitle="修改电话",t.drawer_vrisible=!0}))}else this.$message.error("请选中需要修改的数据")},del:function(e){e.length?this.dialog_visible=!0:this.$message.error("请选中需要删除的表格数据")},cancel:function(e){this.dialog_visible=!1},confirm:function(e){for(var t=[],r=0;r<this.table_row.length;r++)t.push(this.table_row[r].id);this.$refs.table.tableDelete(t),this.dialog_visible=!1}}},s=l,a=r("2877"),c=Object(a["a"])(s,i,o,!1,null,"5553b205",null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-1415c7d0.ce1b33fd.js.map